<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <title>GeoAR.js demo</title>
  <!-- <script src="./aframe/build/aframe-v1.0.4.js"></script>
  <script src="./aframe/build/aframe-ar-2.2.2.js"></script> -->
  <script src="./geodesy/latlon-spherical.js"></script>

  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

  <!-- script src="./components/aframe-look-at-component.min.js"></script -->
  <script src="https://unpkg.com/aframe-look-at-component@1.0.0/dist/aframe-look-at-component.min.js"></script>

  <script src="./gesture-detector.js"></script>
  <script src="./gesture-handler.js"></script>

  <!-- script src="./components/aframe-event-set-component.js"></script -->
  <!-- script type="module">
      import LatLon from 'https://cdn.jsdelivr.net/npm/geodesy@2.2.0/latlon-spherical.min.js';
      //const d = new LatLon(52.205, 0.119).distanceTo(new LatLon(48.857, 2.351));
  </script-->
  <!-- <script src="https://unpkg.com/aframe-log-component/dist/aframe-log-component.min.js"></script> -->
  <!-- <script>
      THREEx.ArToolkitContext.baseURL = './three.js/'
  </script> -->
</head>

<link rel="stylesheet" href="./index.css">

<script src="./places.js"></script>

<body style='margin: 0; overflow: hidden;'>
    <!--cursor="rayOrigin: mouse; fuse: true; fuseTimeout: 0;"-->

    <!-- <a-scene
    cursor="rayOrigin: mouse;"
    raycaster="objects: [gps-entity-place];"
    vr-mode-ui="enabled: false"
	  embedded
    arjs="sourceType: webcam; sourceWidth:1280; sourceHeight:960; displayWidth: 1280; displayHeight: 960; debugUIEnabled: false;"
    geoloc
    gps-camera-debug
    > -->
    <a-scene
      vr-mode-ui="enabled: false"
      embedded
      arjs="sourceType: webcam; debugUIEnabled: false;"
      geoloc
      gesture-detector
    >
    <!--a-assets></a-assets-->
    <!-- loading-screen="dotsColor: red; backgroundColor: black" -->
    <!-- <a-camera gps-camera="minDistance: 20;" rotation-reader> -->

      <!--
      <a-assets>
        <a-asset-item id="avatar" src="model.glb"></a-asset-item>
      </a-assets>
    
      <a-entity gltf-model="#avatar" position="0 0.5 -2" rotation="0 180 0" scale="0.5 0.5 0.5"></a-entity>
    -->
    
    <a-camera
      disabled-gps-camera="minDistance: 20; maxDistance: 300;"
      rotation-reader
      cockpit
      look-controls-enabled="false" arjs-look-controls="smoothingFactor: 0.1" gps-camera="gpsMinDistance: 5"
    >
      <a-entity cursor="fuse: false"
        position="0 0 -1"
        geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
        material="color: black; shader: flat"
        ></a-entity>
        <!-- <a-entity cursor="fuse: true; fuseTimeout: 500"
        position="0 0 -1"
        geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
        material="color: white; shader: flat"> -->

        <a-ring position="0 0 -0.5" radius-inner="0.0236" radius-outer="0.025" segments-theta="1028" color="#fff" material="" geometry=""></a-ring>
        <!--a-text id="compassN" value="N" font="roboto" negate="false" position="-0.0035 0.03 -0.5" width="0.2" color="#fff" text=""></a-text>
        <a-text value="E" font="roboto" negate="false" position="0.026 0 -0.5" width="0.2" color="#fff" text=""></a-text>
        <a-text value="W" font="roboto" negate="false" position="-0.035 0 -0.5" width="0.2" color="#fff" text=""></a-text>
        <a-text value="S" font="roboto" negate="false" position="-0.0025 -0.03 -0.5" width="0.2" color="#fff" text=""></a-text-->
        <a-text id="bearing" value="" font="roboto" negate="false" position="0 0 -0.5" width="0.2" color="#fff" align="center"></a-text>
        <!--a-text id="altimeter" value="560 m" font="roboto" negate="false" position="0 -0.04 -0.5" width="0.2" align="center" color="#fff" text=""></a-text-->
        <a-entity id="compass" position="0 0 -0.5" rotation="">
          <a-triangle position="0 0.015 0" vertex-a="0 0.4 0" vertex-b="-0.2 0 0" vertex-c="0.2 0 0" scale="0.02 0.02" color="#fff" material="" geometry=""></a-triangle>
        </a-entity>

        <a-entity id="leftHand" hand-tracking-controls="hand: left;"></a-entity>


    </a-camera>
    <!-- <a-entity log geometry="primitive: plane" material="color: #111" text="color: lightgreen" position="0 0 -4"></a-entity> -->
    </a-scene>
  <!--div class="debug"></div-->
</body>
</html>